{
  "model": {
    "hidden_size": 256,
    "intermediate_size": 1024,
    "num_attention_heads": 4,
    "num_key_value_heads": 4,
    "num_hidden_layers": 32,
    "rms_norm_eps": 1e-06,
    "vocab_size": 32000,
    "max_position_embeddings": 2048,
    "rope_theta": 10000.0,
    "client_initial_layers": [
      0,
      1
    ],
    "server_middle_layers": [
      15
    ],
    "client_final_layers": [
      30,
      31
    ]
  },
  "training": {
    "batch_size": 1,
    "learning_rate": 0.0001,
    "max_epochs": 20,
    "convergence_threshold": 0.5,
    "patience": 2,
    "gradient_clip_norm": 0.5,
    "warmup_steps": 5,
    "weight_decay": 0.01,
    "language_modeling_weight": 1.0,
    "length_penalty_weight": 0.0,
    "min_delta": 0.02,
    "restore_best_weights": true
  },
  "quantization": {
    "enabled": true,
    "epsilon": 1e-08,
    "bits": 1,
    "compression_ratio": 0.95
  },
  "galore": {
    "enabled": true,
    "rank": 2,
    "update_proj_gap": 5,
    "scale": 0.01,
    "min_param_size": 25
  },
  "data": {
    "data_dir": "./data",
    "dataset_file": "medical_qa_dataset.json",
    "max_sequence_length": 50,
    "pad_token_id": 0,
    "bos_token_id": 2,
    "eos_token_id": 3,
    "shuffle": true,
    "train_split": 0.8,
    "val_split": 0.1,
    "test_split": 0.1
  },
  "server": {
    "host": "0.0.0.0",
    "port": 5000,
    "debug": false,
    "timeout": 30,
    "max_content_length": 52428800,
    "max_processing_time": 25,
    "enable_threading": true,
    "thread_timeout": 30
  },
  "client": {
    "server_url": "http://localhost:5000",
    "request_timeout": 30,
    "max_retries": 2,
    "retry_delay": 0.5,
    "use_compression": true,
    "verify_ssl": false,
    "max_server_failures": 2,
    "server_communication_interval": 20,
    "gradient_accumulation_steps": 25
  },
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "file_handler": true,
    "console_handler": true,
    "log_dir": "./logs",
    "max_bytes": 10485760,
    "backup_count": 5
  },
  "device": {
    "device": "auto",
    "mixed_precision": false,
    "compile_model": false,
    "memory_fraction": 0.6,
    "clear_cache_frequency": 3
  },
  "evaluation": {
    "eval_frequency": 5,
    "save_best_model": true,
    "compute_bleu": false,
    "compute_rouge": false,
    "compute_perplexity": true,
    "max_new_tokens": 20,
    "temperature": 0.7,
    "top_p": 0.9,
    "do_sample": true
  },
  "performance": {
    "clear_cache_frequency": 3,
    "gradient_checkpointing": false,
    "max_gradient_size": 5000,
    "compression_level": 6,
    "max_batch_processing_time": 25,
    "max_server_processing_time": 20,
    "enable_local_fallback": true,
    "fallback_threshold": 2
  }
}